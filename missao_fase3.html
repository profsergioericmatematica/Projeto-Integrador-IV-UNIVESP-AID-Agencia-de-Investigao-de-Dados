<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A.I.D. - Sincroniza√ß√£o de Dados</title>

    <style>
        /* --- ESTILO GERAL (Hacker Theme) --- */
        body {
            background-color: #0d0d0d;
            color: #00ff41;
            font-family: 'Courier New', Courier, monospace;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            user-select: none; /* Evita selecionar texto ao clicar */
        }

        #console-missao {
            width: 800px;
            max-width: 95%;
            margin-top: 20px;
            text-align: center;
        }

        h2 { border-bottom: 1px dashed #00ff41; padding-bottom: 10px; }

        /* --- √ÅREA DO JOGO (2 COLUNAS) --- */
        .game-board {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            gap: 20px;
        }

        .coluna {
            display: flex;
            flex-direction: column;
            gap: 20px;
            width: 45%;
        }

        /* --- CART√ïES DE DADOS (ESQUERDA) --- */
        .card-dado {
            background-color: #001a00;
            border: 2px solid #005500;
            padding: 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: 0.3s;
            position: relative;
        }

        .card-dado:hover { border-color: #00ff41; box-shadow: 0 0 10px #00ff41; }
        .card-dado.selecionado { background-color: #003300; border-color: #ffff00; color: #ffff00; }
        .card-dado.resolvido { opacity: 0.5; pointer-events: none; border-color: #00ff41; background-color: #000; text-decoration: line-through; }

        /* --- CART√ïES DE GR√ÅFICOS (DIREITA) --- */
        .card-grafico {
            background-color: #0d0d0d;
            border: 2px solid #333;
            height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            cursor: pointer;
            transition: 0.3s;
        }
        .card-grafico:hover { border-color: #00ff41; }
        .card-grafico.selecionado { border-color: #ffff00; box-shadow: 0 0 15px #ffff00; }

        /* --- DESENHOS DOS GR√ÅFICOS (CSS PURO) --- */
        /* √çcone Pizza */
        .icon-pizza {
            width: 50px; height: 50px;
            border-radius: 50%;
            background: conic-gradient(#00ff41 0% 30%, #005500 30% 70%, #fff 70% 100%);
            border: 2px solid #00ff41;
        }
        /* √çcone Barras */
        .icon-barras {
            display: flex; align-items: flex-end; gap: 5px; height: 50px;
        }
        .bar { width: 10px; background-color: #00ff41; }
        /* √çcone Linha */
        .icon-linha {
            width: 60px; height: 50px;
            position: relative;
            border-left: 2px solid #00ff41; border-bottom: 2px solid #00ff41;
        }
        .icon-linha::after {
            content: ''; position: absolute;
            width: 100%; height: 100%;
            background: linear-gradient(to top right, transparent 48%, #00ff41 48%, #00ff41 52%, transparent 52%);
        }

        /* --- FEEDBACK --- */
        #agente-sigma {
            margin-top: 30px;
            border: 1px solid #00ff41;
            padding: 15px;
            border-radius: 5px;
            background-color: #000;
            color: #ccffcc;
            min-height: 50px;
        }

        .erro-anim { animation: tremer 0.5s; }
        @keyframes tremer {
            0% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            50% { transform: translateX(10px); }
            75% { transform: translateX(-10px); }
            100% { transform: translateX(0); }
        }
        
        #btn-proximo {
            display: none;
            margin-top: 20px;
            padding: 15px 30px;
            background-color: #00ff41;
            color: #000;
            font-weight: bold;
            border: none;
            cursor: pointer;
            font-size: 18px;
        }

    </style>
</head>
<body>

    <div id="console-missao">
        <h2>üîÑ SINCRONIZA√á√ÉO DE DADOS</h2>
        <p>Instru√ß√£o: Clique no DADO (Esquerda) e depois no GR√ÅFICO IDEAL (Direita).</p>

        <div class="game-board">
            <div class="coluna" id="coluna-dados">
                <div class="card-dado" data-tipo="tempo" onclick="selecionarDado(this)">
                    üìÇ DADO A01:<br>
                    "Varia√ß√£o da temperatura do servidor ao longo de 24 horas."
                </div>

                <div class="card-dado" data-tipo="partes" onclick="selecionarDado(this)">
                    üìÇ DADO B02:<br>
                    "Distribui√ß√£o do or√ßamento: 50% Seguran√ßa, 30% Hardware, 20% Caf√©."
                </div>

                <div class="card-dado" data-tipo="comparacao" onclick="selecionarDado(this)">
                    üìÇ DADO C03:<br>
                    "Compara√ß√£o da quantidade de hacks feitos pelo Agente A vs Agente B."
                </div>
            </div>

            <div class="coluna" id="coluna-graficos">
                
                <div class="card-grafico" data-tipo="partes" onclick="selecionarGrafico(this)">
                    <div style="text-align:center">
                        <div class="icon-pizza"></div>
                        <small>Setores (Pizza)</small>
                    </div>
                </div>

                <div class="card-grafico" data-tipo="tempo" onclick="selecionarGrafico(this)">
                    <div style="text-align:center">
                        <div class="icon-linha"></div>
                        <small>Linhas</small>
                    </div>
                </div>

                <div class="card-grafico" data-tipo="comparacao" onclick="selecionarGrafico(this)">
                    <div style="text-align:center">
                        <div class="icon-barras">
                            <div class="bar" style="height: 20px"></div>
                            <div class="bar" style="height: 40px"></div>
                            <div class="bar" style="height: 30px"></div>
                        </div>
                        <small>Colunas</small>
                    </div>
                </div>

            </div>
        </div>

        <div id="agente-sigma">
            <strong>üïµÔ∏è AGENTE SIGMA:</strong>
            <span id="msg-sigma">Aguardando sincroniza√ß√£o... Selecione um pacote de dados.</span>
        </div>

        <button id="btn-proximo" onclick="finalizarFase()">PR√ìXIMA FASE >></button>
    </div>

    <script>
        let dadoSelecionado = null;
        let acertos = 0;

        function selecionarDado(elemento) {
            // Se j√° est√° resolvido, ignora
            if (elemento.classList.contains('resolvido')) return;

            // Remove sele√ß√£o anterior visual
            document.querySelectorAll('.card-dado').forEach(el => el.classList.remove('selecionado'));
            
            // Marca o novo
            elemento.classList.add('selecionado');
            dadoSelecionado = elemento;

            document.getElementById('msg-sigma').innerText = "Dado selecionado. Agora escolha o gr√°fico que melhor representa essa informa√ß√£o.";
            document.getElementById('msg-sigma').style.color = "#ccffcc";
        }

        function selecionarGrafico(elementoGrafico) {
            if (!dadoSelecionado) {
                document.getElementById('msg-sigma').innerText = "‚ö†Ô∏è Erro: Voc√™ precisa clicar num texto da esquerda primeiro!";
                return;
            }

            let tipoDado = dadoSelecionado.getAttribute('data-tipo');
            let tipoGrafico = elementoGrafico.getAttribute('data-tipo');

            if (tipoDado === tipoGrafico) {
                // --- ACERTOU ---
                acertos++;
                
                // Feedback Visual
                dadoSelecionado.classList.remove('selecionado');
                dadoSelecionado.classList.add('resolvido');
                dadoSelecionado.innerHTML += " ‚úÖ SINCRONIZADO";
                
                // Feedback Texto
                let explicacao = "";
                if(tipoDado === 'tempo') explicacao = "Correto! Gr√°ficos de LINHA s√£o perfeitos para ver evolu√ß√£o no tempo.";
                if(tipoDado === 'partes') explicacao = "Exato! Gr√°ficos de SETORES (Pizza) mostram bem como um todo √© dividido.";
                if(tipoDado === 'comparacao') explicacao = "Boa! Gr√°ficos de COLUNAS s√£o ideais para comparar valores individuais.";

                document.getElementById('msg-sigma').innerText = explicacao;
                document.getElementById('msg-sigma').style.color = "#ffff00";

                // Reseta sele√ß√£o
                dadoSelecionado = null;

                // Verifica Vit√≥ria
                if (acertos === 3) {
                    setTimeout(() => {
                        document.getElementById('msg-sigma').innerHTML = "SISTEMA 100% OPERACIONAL. Todos os gr√°ficos foram escolhidos corretamente.";
                        document.getElementById('btn-proximo').style.display = "inline-block";
                    }, 1500);
                }

            } else {
                // --- ERROU ---
                let sigma = document.getElementById('agente-sigma');
                
                // Anima√ß√£o de tremor
                sigma.classList.remove('erro-anim');
                void sigma.offsetWidth; // Hack para reiniciar anima√ß√£o
                sigma.classList.add('erro-anim');

                // Explica√ß√£o do erro (Feedback Pedag√≥gico)
                let msgErro = "Incompat√≠vel! ";
                if (tipoGrafico === 'partes') msgErro += "Pizza √© ruim para comparar ou ver tempo. Use Pizza apenas para porcentagens de um total.";
                if (tipoGrafico === 'tempo') msgErro += "Linha √© para continuidade (tempo). N√£o serve para comparar categorias soltas.";
                
                document.getElementById('msg-sigma').innerText = msgErro + " Tente novamente.";
                document.getElementById('msg-sigma').style.color = "#ff3333";
            }
        }

        function finalizarFase() {
            // Remove o alert antigo e coloca isso:
            document.getElementById('msg-sigma').innerText = "Sincroniza√ß√£o Total. Preparando para o Desafio Final...";
            
            setTimeout(function() {
                window.location.href = "missao_fase4.html";
            }, 2000);
        }

    </script>
</body>
</html>