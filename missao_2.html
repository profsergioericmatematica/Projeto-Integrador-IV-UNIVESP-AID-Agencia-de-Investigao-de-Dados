<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A.I.D. - Fraudes</title>
    <style>
        body {
            background-color: #0d0d0d;
            color: #00ff41;
            font-family: 'Courier New', Courier, monospace;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            padding: 10px;
            box-sizing: border-box;
        }

        #dispositivo-analise {
            width: 100%;
            max-width: 700px; /* Adapt√°vel */
            border: 2px solid #00ff41;
            padding: 20px;
            border-radius: 10px;
            background-color: #001a00;
            box-sizing: border-box;
            text-align: center;
        }

        h2 { border-bottom: 1px dashed #00ff41; padding-bottom: 10px; margin-top: 0; font-size: 20px; }

        #painel-grafico {
            background-color: #fff;
            color: #000;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
            min-height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            text-align: left;
        }
        
        #titulo-grafico { font-weight: bold; font-size: 16px; margin-bottom: 20px; color: #d00; }

        .container-barras {
            display: flex;
            flex-direction: column;
            gap: 15px;
            border-left: 2px solid #333;
            border-bottom: 2px solid #333;
            padding: 10px;
        }

        .barra {
            height: 25px;
            background-color: #0055aa;
            color: #fff;
            display: flex;
            align-items: center;
            padding-left: 5px;
            font-size: 12px;
            white-space: nowrap;
            transition: width 1s;
            width: 0%;
        }

        #controles { display: flex; justify-content: center; gap: 10px; margin-top: 20px; flex-wrap: wrap; }

        .btn-acao {
            padding: 15px; font-size: 16px; font-weight: bold; cursor: pointer;
            border: 2px solid #fff; border-radius: 5px; flex: 1; min-width: 120px;
        }

        #btn-validar { background-color: #003300; color: #00ff41; border-color: #00ff41; }
        #btn-denunciar { background-color: #330000; color: #ff3333; border-color: #ff3333; }
        
        #btn-proximo {
            display: none; margin-top: 15px; width: 100%; padding: 15px;
            background: #fff; color: #000; font-weight: bold; cursor: pointer; border: none;
        }

        #agente-box { margin-top: 20px; border-top: 1px dashed #00ff41; padding-top: 10px; color: #ccffcc; font-size: 14px;}
    </style>
</head>
<body>

    <div id="dispositivo-analise">
        <div style="display:flex; justify-content:space-between; font-size:12px;">
            <span>üëÅÔ∏è DETECTOR V1.0</span>
            <span id="contador-casos">Caso: 1/3</span>
        </div>
        
        <h2>ANALISE A M√çDIA</h2>

        <div id="painel-grafico">
            <div id="titulo-grafico">Carregando...</div>
            <div class="container-barras" id="area-barras"></div>
            <div style="font-size:10px; color:#666; margin-top:5px;">Fonte: Dados N√£o Verificados</div>
        </div>

        <div id="agente-box">
            <strong>üïµÔ∏è AGENTE SIGMA:</strong>
            <span id="msg-sigma">Este gr√°fico √© CONFI√ÅVEL ou MANIPULADO?</span>
        </div>

        <div id="controles">
            <button id="btn-validar" class="btn-acao" onclick="analisar(true)">‚úÖ VALIDAR</button>
            <button id="btn-denunciar" class="btn-acao" onclick="analisar(false)">üö´ DENUNCIAR</button>
        </div>
        
        <button id="btn-proximo" onclick="proximoCaso()">PR√ìXIMO CASO >></button>
    </div>

    <script>
        const casos = [
            {
                titulo: "URGENTE: LUCRO DA RIVAL DISPARA!",
                e_confiavel: false,
                barras: [ { nome: "JAN", valor: "R$ 950", tamanho: "23%" }, { nome: "FEV", valor: "R$ 980", tamanho: "100%" } ],
                explicacao: "FRAUDE! Diferen√ßa pequena nos n√∫meros (3%), mas visual gigante. Eixo Truncado."
            },
            {
                titulo: "Vendas Setor Norte",
                e_confiavel: true,
                barras: [ { nome: "2024", valor: "100 un.", tamanho: "50%" }, { nome: "2025", valor: "200 un.", tamanho: "100%" } ],
                explicacao: "CORRETO. Dobrou o valor, dobrou o tamanho."
            },
            {
                titulo: "PREFER√äNCIA DO CONSUMIDOR",
                e_confiavel: false,
                barras: [ { nome: "N√ìS", valor: "????", tamanho: "95%" }, { nome: "ELES", valor: "????", tamanho: "25%" } ],
                explicacao: "ALERTA! Gr√°fico sem n√∫meros n√£o prova nada."
            }
        ];

        let indiceAtual = 0;
        let bloqueado = false;

        function carregarCaso() {
            bloqueado = false;
            const caso = casos[indiceAtual];
            document.getElementById("contador-casos").innerText = "Caso: " + (indiceAtual + 1) + "/" + casos.length;
            document.getElementById("titulo-grafico").innerText = caso.titulo;
            document.getElementById("msg-sigma").innerText = "Analise a escala e propor√ß√µes.";
            document.getElementById("btn-proximo").style.display = "none";
            document.getElementById("controles").style.display = "flex";

            const container = document.getElementById("area-barras");
            container.innerHTML = "";
            caso.barras.forEach(dado => {
                let div = document.createElement("div");
                div.className = "barra";
                div.style.width = "0%"; 
                div.innerText = dado.nome + " (" + dado.valor + ")";
                container.appendChild(div);
                setTimeout(() => { div.style.width = dado.tamanho; }, 100);
            });
        }

        function analisar(escolha) {
            if (bloqueado) return;
            bloqueado = true;
            const caso = casos[indiceAtual];
            const acertou = (escolha === caso.e_confiavel);
            const sigma = document.getElementById("msg-sigma");

            sigma.innerHTML = acertou ? "<span style='color:#ffff00'>EXCELENTE!</span> " + caso.explicacao : "<span style='color:#ff3333'>ERRO.</span> " + caso.explicacao;

            document.getElementById("controles").style.display = "none";
            let btnProx = document.getElementById("btn-proximo");
            btnProx.style.display = "block";

            // L√ìGICA DO TEXTO DO BOT√ÉO
            if (indiceAtual === casos.length - 1) {
                btnProx.innerText = "PROSSEGUIR PARA PR√ìXIMA FASE >>";
            } else {
                btnProx.innerText = "PR√ìXIMO CASO >>";
            }
        }

        function proximoCaso() {
            indiceAtual++;
            if (indiceAtual < casos.length) {
                carregarCaso();
            } else {
                window.location.href = "missao_fase3.html";
            }
        }
        carregarCaso();
    </script>
</body>
</html>