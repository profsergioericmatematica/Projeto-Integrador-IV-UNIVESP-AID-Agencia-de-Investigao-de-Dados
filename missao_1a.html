<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A.I.D. - Miss√£o Cofre</title>
    <style>
        body {
            background-color: #0d0d0d;
            color: #00ff41; 
            font-family: 'Courier New', Courier, monospace;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 10px; /* Espa√ßo nas bordas do celular */
            box-sizing: border-box;
        }

        #container-jogo {
            width: 100%;
            max-width: 450px; /* Limite para PC, ajust√°vel no celular */
            border: 2px solid #00ff41;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0, 255, 65, 0.5);
            text-align: center;
            position: relative;
            background-color: #0d0d0d;
        }

        #info-topo {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            margin-bottom: 10px;
            color: #fff;
            border-bottom: 1px solid #333;
            padding-bottom: 5px;
        }

        #tela-display {
            background-color: #003b00;
            color: #fff;
            padding: 15px;
            font-size: 24px;
            margin-bottom: 20px;
            border: 1px solid #00ff41;
            min-height: 60px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        #agente-sigma-box {
            border-top: 1px dashed #00ff41;
            margin-top: 20px;
            padding-top: 10px;
            font-size: 14px;
            color: #ccffcc;
            min-height: 60px;
        }

        .teclado {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }

        button {
            background-color: #1a1a1a;
            color: #00ff41;
            border: 1px solid #00ff41;
            padding: 15px;
            font-size: 18px;
            cursor: pointer;
            font-family: inherit;
        }

        button:active { background-color: #00ff41; color: #000; }

        /* Bot√£o Pr√≥xima Fase */
        #btn-proxima-fase {
            display: none; /* Escondido */
            width: 100%;
            background-color: #fff;
            color: #000;
            font-weight: bold;
            margin-top: 20px;
            animation: piscar 1s infinite alternate;
        }

        .btn-hack {
            background-color: #ffff00;
            color: #000;
            font-weight: bold;
            display: none;
            width: 100%;
            margin-top: 10px;
        }

        #area-pergunta {
            display: none;
            flex-direction: column;
            gap: 10px;
        }
        
        .btn-resposta { width: 100%; margin-bottom: 5px; }
        .texto-destaque { color: #ffff00; font-weight: bold; }

        @keyframes piscar { from { opacity: 1; } to { opacity: 0.7; } }
    </style>
</head>
<body>

    <div id="container-jogo">
        <div id="info-topo">
            <span>üîí V2.0</span>
            <span id="contador-tentativas">Tentativas: 0</span>
        </div>

        <h2>COFRE DIGITAL</h2>
        <div id="tela-display">SISTEMA BLOQUEADO</div>

        <div id="teclado-numerico" class="teclado">
            <button onclick="verificarChute(1)">1</button>
            <button onclick="verificarChute(2)">2</button>
            <button onclick="verificarChute(3)">3</button>
            <button onclick="verificarChute(4)">4</button>
            <button onclick="verificarChute(5)">5</button>
            <button onclick="verificarChute(6)">6</button>
            <button onclick="verificarChute(7)">7</button>
            <button onclick="verificarChute(8)">8</button>
            <button onclick="verificarChute(9)">9</button>
            <button onclick="verificarChute(0)">0</button>
        </div>

        <button id="btn-hack" class="btn-hack" onclick="revelarSenha()">üîì EXECUTAR DECODIFICADOR</button>
        
        <button id="btn-proxima-fase" onclick="irProximaFase()">PROSSEGUIR PARA PR√ìXIMA FASE >></button>

        <div id="area-pergunta">
            <p>O sistema reiniciou! A chance de acertar agora √© MAIOR, MENOR ou IGUAL?</p>
            <button class="btn-resposta" onclick="verificarRespostaPedagogica('mudou')">A chance MUDOU</button>
            <button class="btn-resposta" onclick="verificarRespostaPedagogica('igual')">A chance continua IGUAL</button>
        </div>

        <div id="agente-sigma-box">
            <strong>üïµÔ∏è AGENTE SIGMA:</strong>
            <p id="mensagem-sigma">Agente, precisamos da senha (0-9). A chance √© de 1/10. Fa√ßa uma tentativa!</p>
        </div>
    </div>

    <script>
        var numeroSecreto = Math.floor(Math.random() * 10);
        var ultimoChuteErrado = -1;
        var totalTentativas = 0; 

        function atualizarContador() {
            document.getElementById("contador-tentativas").innerText = "Tentativas: " + totalTentativas;
        }

        function verificarChute(numeroEscolhido) {
            totalTentativas++;
            atualizarContador();
            var tela = document.getElementById("tela-display");
            var sigma = document.getElementById("mensagem-sigma");

            if (numeroEscolhido === numeroSecreto) {
                // VIT√ìRIA
                tela.innerHTML = "ACESSO PERMITIDO!<br><small>Senha: " + numeroSecreto + "</small>";
                tela.style.backgroundColor = "#00ff41"; 
                tela.style.color = "#000";
                
                sigma.innerText = "ACESSO LIBERADO! Clique abaixo para continuar.";

                document.getElementById("teclado-numerico").style.display = "none";
                document.getElementById("btn-hack").style.display = "none";
                
                // MOSTRA O BOT√ÉO DE PROSSEGUIR (Sem redirecionar sozinho)
                document.getElementById("btn-proxima-fase").style.display = "block";

            } else {
                ultimoChuteErrado = numeroEscolhido;
                tela.innerText = "ACESSO NEGADO";
                tela.style.backgroundColor = "#ff3333"; 
                ativarModoPedagogico();
            }
        }

        function ativarModoPedagogico() {
            document.getElementById("teclado-numerico").style.display = "none";
            document.getElementById("area-pergunta").style.display = "flex";
            document.getElementById("mensagem-sigma").innerText = "O sistema resetou! O fato de voc√™ ter errado o n√∫mero " + ultimoChuteErrado + " antes, muda sua chance agora?";
        }

        function verificarRespostaPedagogica(resposta) {
            var sigma = document.getElementById("mensagem-sigma");
            var areaPergunta = document.getElementById("area-pergunta");
            var btnHack = document.getElementById("btn-hack");

            if (resposta === 'igual') {
                document.getElementById("tela-display").innerText = "RACIOC√çNIO CORRETO";
                document.getElementById("tela-display").style.backgroundColor = "#003b00";
                
                sigma.innerHTML = "Excelente! Liberei o <strong>DECODIFICADOR</strong>. Clique no bot√£o amarelo.";
                areaPergunta.style.display = "none";
                btnHack.style.display = "block";
            } else {
                sigma.innerText = "Negativo. Eventos independentes n√£o t√™m mem√≥ria. Tente de novo.";
            }
        }

        function revelarSenha() {
            var sigma = document.getElementById("mensagem-sigma");
            var btnHack = document.getElementById("btn-hack");
            var teclado = document.getElementById("teclado-numerico");

            sigma.innerHTML = "O Decodificador diz: <span class='texto-destaque'>SENHA √â " + numeroSecreto + "</span>. Digite-a.";
            btnHack.style.display = "none";
            teclado.style.display = "grid";
        }

        function irProximaFase() {
            window.location.href = "missao_1b.html";
        }
    </script>
</body>
</html>